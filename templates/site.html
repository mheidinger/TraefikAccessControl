{{define "title"}}Edit Site{{end}}

{{define "body"}}
<div>
	<h1 class="header center orange-text">Edit Site</h1>

	<div class="container">
		<p>Host: {{.site.Host}}</p>
		<p>Path-Prefix: {{.site.PathPrefix}}</p>
	</div>

	<div class="container">
		<h4 class="orange-text">Users mapped to site:</h4>
		<table class="responsive-table striped">
			<thead>
				<tr>
					<th>Username</th>
					<th class="right-align">BasicAuth Allowed</th>
					<th class="right-align">Delete</th>
				</tr>
			</thead>
			<tbody>
				{{range .siteMappings}}
					<tr>
						<td>{{.User.Username}}</td>
						<td class="right-align">
							{{if .SiteMapping.BasicAuthAllowed}}
								<i class="material-icons">done</i>
							{{else}}
								<i class="material-icons">clear</i>
							{{end}}
						</td>
						<td class="right-align"><a class="mappingDeleteButton" href="#"><i data-tokenname="{{.User.Username}}" class="material-icons">delete_forever</i></a></td>
					</tr>
				{{end}}
				<tr>
					<td>
						<select>
							<option value="" disabled selected>Select user</option>
							{{range .availUsers}}
								<option value="{{.ID}}">{{.Username}}</option>
							{{end}}
						</select>
					</td>
					<td class="right-align"><label><input type="checkbox" class="filled-in" id="mappingBasicAuthField"/><span></span></label></td>
					<td>
						<button class="btn waves-effect waves-light right" id="mappingCreateButton">
							Create New
							<i class="material-icons right">create</i>
						</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<script src="/static/js/site.js"></script>
</div>
{{end}}